erDiagram
    Categories {
        int CategoryID PK
        nvarchar CategoryName "UNIQUE"
        nvarchar Description
        bit IsActive
        datetime CreatedDate
    }

    Facts {
        int FactID PK
        int CategoryID FK
        nvarchar Content
        date DateAdded
        datetime LastViewedDate
        int ReviewCount
        int TotalViews
        bit IsFavorite
        bit IsEasy
    }

    ReviewSessions {
        int SessionID PK
        datetime StartTime
        datetime EndTime
        int DurationSeconds
        bit TimedOut
        int FactsAdded
        int FactsEdited
        int FactsDeleted
    }

    ReviewLogs {
        int ReviewLogID PK
        int FactID FK
        datetime ReviewDate
        int SessionDuration
        int SessionID FK
        bit TimedOut
        nvarchar Action
        bit FactEdited
        bit FactDeleted
        nvarchar FactContentSnapshot
        int CategoryIDSnapshot
    }

    GamificationProfile {
        int ProfileID PK
        int XP
        int Level
        int TotalReviews
        int TotalKnown
        int TotalFavorites
        int TotalAdds
        int TotalEdits
        int TotalDeletes
        int CurrentStreak
        int LongestStreak
        date LastCheckinDate
    }

    Achievements {
        int AchievementID PK
        nvarchar Code "UNIQUE"
        nvarchar Name
        nvarchar Category
        int Threshold
        int RewardXP
        bit IsHidden
        datetime CreatedDate
    }

    AchievementUnlocks {
        int UnlockID PK
        int AchievementID FK
        datetime UnlockDate
        bit Notified
    }

    %% Relationships
    Categories ||--o{ Facts : contains
    Facts ||--o{ ReviewLogs : logs
    ReviewSessions ||--o{ ReviewLogs : tracks
    Achievements ||--o| AchievementUnlocks : unlocks
